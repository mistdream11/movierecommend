doctype html
html
  head
    meta(charset='utf-8')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    title 选择推荐模式
    style.
      body {
        font-family: 'Open Sans', sans-serif;
        background: #f0f4f8;
        margin: 0;
        padding: 40px;
      }
      .panel {
        max-width: 720px;
        margin: 0 auto;
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 18px 40px rgba(15, 31, 64, 0.15);
        padding: 40px 50px;
      }
      h1 {
        margin: 0 0 10px;
        font-size: 32px;
        color: #1e2a39;
      }
      p.desc {
        margin: 0 0 30px;
        font-size: 16px;
        color: #546074;
      }
      ul.tags {
        list-style: none;
        padding: 0;
        margin: 0 0 25px;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }
      ul.tags li {
        background: #e3f2fd;
        color: #1976d2;
        padding: 6px 14px;
        border-radius: 20px;
        font-size: 14px;
      }
      .mode-options {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-top: 20px;
      }
      .mode-card {
        flex: 1;
        min-width: 220px;
        border: 1px solid #dbe2ec;
        border-radius: 10px;
        padding: 20px;
        background: #fafbfc;
      }
      .mode-card h2 {
        margin: 0 0 10px;
        font-size: 24px;
        color: #0f172a;
      }
      .mode-card p {
        margin: 0 0 20px;
        color: #5c677d;
        line-height: 1.5;
        font-size: 15px;
      }
      .mode-card button {
        width: 100%;
        padding: 12px 0;
        font-size: 16px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        background: #1976d2;
        color: #fff;
        transition: background 0.2s ease;
      }
      .mode-card button:hover {
        background: #0f5fab;
      }
      .message {
        margin-bottom: 20px;
        padding: 12px 16px;
        border-radius: 6px;
        background: #fdecea;
        color: #c62828;
        border: 1px solid #f5c6cb;
      }
  body
    .panel
      h1 你好 #{username}
      p.desc 你刚刚选择了以下类型，接下来请选择推荐模式（简单：5 轮、详细：10 轮）。
      if message
        p.message #{message}
      if selectedGenres && selectedGenres.length
        ul.tags
          each genre in selectedGenres
            li #{genre}
      else
        p.desc 暂未选择任何标签。
      .mode-options
        form.mode-card(action='/chooserecommendation', method='post')
          input(type='hidden', name='userid', value=userid)
          input(type='hidden', name='username', value=username)
          input(type='hidden', name='selectedGenres', value=selectedGenresPayload)
          input(type='hidden', name='recommendMode', value='simple')
          h2 简单推荐
          p 共 5 轮，每轮 10 部电影，快速了解你的偏好。
          button(type='submit') 开始简单模式
        form.mode-card(action='/chooserecommendation', method='post')
          input(type='hidden', name='userid', value=userid)
          input(type='hidden', name='username', value=username)
          input(type='hidden', name='selectedGenres', value=selectedGenresPayload)
          input(type='hidden', name='recommendMode', value='detailed')
          h2 详细推荐
          p 共 10 轮，更全面地了解你的审美偏好。
          button(type='submit') 开始详细模式
